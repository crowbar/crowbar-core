<VirtualHost *:80>
    DocumentRoot /opt/dell/crowbar_framework/public

    ErrorLog <%= @errorlog %>
    CustomLog <%= @logfile %> combined

    ErrorDocument 403 /403.html
    ErrorDocument 404 /404.html
    ErrorDocument 422 /422.html
    ErrorDocument 500 /500.html

    ProxyPass / http://127.0.0.1:<%= @port %>/
    ProxyPassReverse / http://127.0.0.1:<%= @port %>/
    ProxyErrorOverride On

    <Location />
        <%- if node[:apache][:version].to_f < 2.4 %>
        Order allow,deny
        Allow from all
        <%- else %>
        Require all granted
        <%- end %>
    </Location>
</VirtualHost>
